

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ST Nucleo L476RG &mdash; Zephyr Project Documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../../_static/zephyr-custom.css" type="text/css" />
  

  
        <link rel="copyright" title="Copyright" href="../../../../copyright.html"/>
    <link rel="top" title="Zephyr Project Documentation" href="../../../../index.html"/>
        <link rel="up" title="Supported Boards" href="../../../boards.html"/>
        <link rel="next" title="ARM Cortex-M3 Emulation (QEMU)" href="../../qemu_cortex_m3/doc/board.html"/>
        <link rel="prev" title="ST Nucleo F411RE" href="../../nucleo_f411re/doc/nucleof411re.html"/> 

  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../../../index.html" class="icon icon-home"> Zephyr Project
          

          
          </a>

          
            
            
              <div class="version">
                1.7.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../introduction/introducing_zephyr.html">Introducing Zephyr</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../getting_started/getting_started.html">Getting Started Guide</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../boards.html">Supported Boards</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../boards.html#x86-boards">X86 Boards</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../boards.html#arm-boards">ARM Boards</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../96b_carbon/doc/96b_carbon.html">96Boards Carbon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../96b_nitrogen/doc/96b_nitrogen.html">96Boards Nitrogen</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../arduino_101_ble/doc/board.html">Arduino/Genuino 101 (BLE)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../arduino_due/doc/board.html">Arduino Due</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cc3200_launchxl/doc/cc3200_launchxl.html">CC3200 LaunchXL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../curie_ble/doc/board.html">Curie (BLE)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../frdm_k64f/doc/frdm_k64f.html">NXP FRDM-K64F</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../frdm_kw41z/doc/frdm_kw41z.html">NXP FRDM-KW41Z</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../hexiwear_k64/doc/hexiwear_k64.html">Hexiwear</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mps2_an385/doc/mps2_an385.html">ARM V2M MPS2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf51_pca10028/doc/nrf51_pca10028.html">nRF51-PCA10028</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf52840_pca10056/doc/nrf52840_pca10056.html">nRF52840-PCA10056</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf52_pca10040/doc/nordic_segger.html">Nordic nRF5x Segger J-Link</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nrf52_pca10040/doc/nrf52_pca10040.html">nRF52-PCA10040</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f401re/doc/nucleof401re.html">ST Nucleo F401RE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../nucleo_f411re/doc/nucleof411re.html">ST Nucleo F411RE</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ST Nucleo L476RG</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hardware">Hardware</a></li>
<li class="toctree-l4"><a class="reference internal" href="#programming-and-debugging">Programming and Debugging</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../qemu_cortex_m3/doc/board.html">ARM Cortex-M3 Emulation (QEMU)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sam_e70_xplained/doc/sam_e70_xplained.html">SAM E70 Xplained</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../v2m_beetle/doc/v2m_beetle.html">ARM V2M Beetle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../boards.html#arc-boards">ARC Boards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../boards.html#nios-ii-boards">NIOS II Boards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../kernel/kernel.html">Zephyr Kernel Primer (version 2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../application/application.html">Application Development Primer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../porting/porting.html">Porting Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../drivers/drivers.html">Device Drivers and Device Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../subsystems/subsystems.html">Subsystems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../api/api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../samples/samples.html">Samples and Demos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../reference/kconfig/index.html">Configuration Options Reference Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../contribute/code.html">Contributing Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../release-notes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../LICENSING.html">Licensing of Zephyr Project components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../glossary.html">Glossary of Terms</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Zephyr Project</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../boards.html">Supported Boards</a> &raquo;</li>
        
      <li>ST Nucleo L476RG</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../../../_sources/boards/arm/nucleo_l476rg/doc/nucleol476rg.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="st-nucleo-l476rg">
<span id="nucleo-l476rg-board"></span><h1>ST Nucleo L476RG<a class="headerlink" href="#st-nucleo-l476rg" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The Nucleo L476RG board features an ARM Cortex-M4 based STM32L476RG MCU
with a wide range of connectivity support and configurations. Here are
some highlights of the Nucleo L476RG board:</p>
<ul>
<li><p class="first">STM32 microcontroller in QFP64 package</p>
</li>
<li><dl class="first docutils">
<dt>Two types of extension resources:</dt>
<dd><ul class="first last simple">
<li>Arduino Uno V3 connectivity</li>
<li>ST morpho extension pin headers for full access to all STM32 I/Os</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">On-board ST-LINK/V2-1 debugger/programmer with SWD connector</p>
</li>
<li><dl class="first docutils">
<dt>Flexible board power supply:</dt>
<dd><ul class="first last simple">
<li>USB VBUS or external source(3.3V, 5V, 7 - 12V)</li>
<li>Power management access point</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Three LEDs: USB communication (LD1), user LED (LD2), power LED (LD3)</p>
</li>
<li><p class="first">Two push-buttons: USER and RESET</p>
</li>
</ul>
<a class="reference internal image-reference" href="../../../../_images/nucleo64_ulp_logo_1024.jpg"><img alt="Nucleo L476RG" class="align-center" src="../../../../_images/nucleo64_ulp_logo_1024.jpg" style="width: 250px; height: 250px;" /></a>
<p>More information about the board can be found at the <a class="reference external" href="http://www.st.com/en/evaluation-tools/nucleo-l476rg.html">Nucleo L476RG website</a>.</p>
</div>
<div class="section" id="hardware">
<h2>Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">¶</a></h2>
<p>The STM32L476RG SoC provides the following hardware IPs:</p>
<ul>
<li><p class="first">Ultra-low-power with FlexPowerControl (down to 130 nA Standby mode and 100 μA/MHz run mode)</p>
</li>
<li><p class="first">Core: ARM® 32-bit Cortex®-M4 CPU with FPU, frequency up to 80 MHz, 100DMIPS/1.25DMIPS/MHz (Dhrystone 2.1)</p>
</li>
<li><dl class="first docutils">
<dt>Clock Sources:</dt>
<dd><ul class="first last simple">
<li>4 to 48 MHz crystal oscillator</li>
<li>32 kHz crystal oscillator for RTC (LSE)</li>
<li>Internal 16 MHz factory-trimmed RC (±1%)</li>
<li>Internal low-power 32 kHz RC (±5%)</li>
<li>Internal multispeed 100 kHz to 48 MHz oscillator, auto-trimmed by LSE (better than ±0.25 % accuracy)</li>
<li>3 PLLs for system clock, USB, audio, ADC</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">RTC with HW calendar, alarms and calibration</p>
</li>
<li><p class="first">LCD 8 × 40 or 4 × 44 with step-up converter</p>
</li>
<li><p class="first">Up to 24 capacitive sensing channels: support touchkey, linear and rotary touch sensors</p>
</li>
<li><dl class="first docutils">
<dt>16x timers:</dt>
<dd><ul class="first last simple">
<li>2x 16-bit advanced motor-control</li>
<li>2x 32-bit and 5x 16-bit general purpose</li>
<li>2x 16-bit basic</li>
<li>2x low-power 16-bit timers (available in Stop mode)</li>
<li>2x watchdogs</li>
<li>SysTick timer</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Up to 114 fast I/Os, most 5 V-tolerant, up to 14 I/Os with independent supply down to 1.08 V</p>
</li>
<li><dl class="first docutils">
<dt>Memories</dt>
<dd><ul class="first last simple">
<li>Up to 1 MB Flash, 2 banks read-while-write, proprietary code readout protection</li>
<li>Up to 128 KB of SRAM including 32 KB with hardware parity check</li>
<li>External memory interface for static memories supporting SRAM, PSRAM, NOR and NAND memories</li>
<li>Quad SPI memory interface</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">4x digital filters for sigma delta modulator</p>
</li>
<li><dl class="first docutils">
<dt>Rich analog peripherals (independent supply)</dt>
<dd><ul class="first last simple">
<li>3× 12-bit ADC 5 MSPS, up to 16-bit with hardware oversampling, 200 μA/MSPS</li>
<li>2x 12-bit DAC, low-power sample and hold</li>
<li>2x operational amplifiers with built-in PGA</li>
<li>2x ultra-low-power comparators</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>18x communication interfaces</dt>
<dd><ul class="first last simple">
<li>USB OTG 2.0 full-speed, LPM and BCD</li>
<li>2x SAIs (serial audio interface)</li>
<li>3x I2C FM+(1 Mbit/s), SMBus/PMBus</li>
<li>6x USARTs (ISO 7816, LIN, IrDA, modem)</li>
<li>3x SPIs (4x SPIs with the Quad SPI)</li>
<li>CAN (2.0B Active) and SDMMC interface</li>
<li>SWPMI single wire protocol master I/F</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">14-channel DMA controller</p>
</li>
<li><p class="first">True random number generator</p>
</li>
<li><p class="first">CRC calculation unit, 96-bit unique ID</p>
</li>
<li><p class="first">Development support: serial wire debug (SWD), JTAG, Embedded Trace Macrocell™</p>
</li>
</ul>
<dl class="docutils">
<dt>More information about STM32L476RG can be found here:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="http://www.st.com/en/microcontrollers/stm32l476rg.html">STM32L476RG on www.st.com</a></li>
<li><a class="reference external" href="http://www.st.com/resource/en/reference_manual/DM00083560.pdf">STM32L476 reference manual</a></li>
</ul>
</dd>
</dl>
<div class="section" id="supported-features">
<h3>Supported Features<a class="headerlink" href="#supported-features" title="Permalink to this headline">¶</a></h3>
<p>The Zephyr nucleo_l476rg board configuration supports the following hardware features:</p>
<table border="1" class="docutils">
<colgroup>
<col width="18%" />
<col width="20%" />
<col width="62%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Interface</th>
<th class="head">Controller</th>
<th class="head">Driver/Component</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>NVIC</td>
<td>on-chip</td>
<td>nested vector interrupt controller</td>
</tr>
<tr class="row-odd"><td>UART</td>
<td>on-chip</td>
<td>serial port-polling;
serial port-interrupt</td>
</tr>
<tr class="row-even"><td>PINMUX</td>
<td>on-chip</td>
<td>pinmux</td>
</tr>
<tr class="row-odd"><td>GPIO</td>
<td>on-chip</td>
<td>gpio</td>
</tr>
<tr class="row-even"><td>I2C</td>
<td>on-chip</td>
<td>i2c</td>
</tr>
<tr class="row-odd"><td>PWM</td>
<td>on-chip</td>
<td>pwm</td>
</tr>
</tbody>
</table>
<p>Other hardware features are not yet supported on this Zephyr port.</p>
<p>The default configuration can be found in the defconfig file:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">boards/arm/nucleo_l476rg/nucleo_l476rg_defconfig</span></code></div></blockquote>
</div>
<div class="section" id="connections-and-ios">
<h3>Connections and IOs<a class="headerlink" href="#connections-and-ios" title="Permalink to this headline">¶</a></h3>
<p>Nucleo L476RG Board has 8 GPIO controllers. These controllers are responsible for pin muxing,
input/output, pull-up, etc.</p>
<div class="section" id="available-pins">
<h4>Available pins:<a class="headerlink" href="#available-pins" title="Permalink to this headline">¶</a></h4>
<a class="reference internal image-reference" href="../../../../_images/nucleo_l476rg_arduino.png"><img alt="Nucleo L476RG Arduino connectors" class="align-center" src="../../../../_images/nucleo_l476rg_arduino.png" style="width: 720px; height: 540px;" /></a>
<a class="reference internal image-reference" href="../../../../_images/nucleo_l476rg_morpho.png"><img alt="Nucleo L476RG Morpho connectors" class="align-center" src="../../../../_images/nucleo_l476rg_morpho.png" style="width: 720px; height: 540px;" /></a>
<p>For mode details please refer to <a class="reference external" href="http://www.st.com/resource/en/user_manual/dm00105823.pdf">STM32 Nucleo-64 board User Manual</a>.</p>
</div>
<div class="section" id="default-zephyr-peripheral-mapping">
<h4>Default Zephyr Peripheral Mapping:<a class="headerlink" href="#default-zephyr-peripheral-mapping" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>UART_1_TX : PA9</li>
<li>UART_1_RX : PA10</li>
<li>UART_2_TX : PA2</li>
<li>UART_2_RX : PA3</li>
<li>UART_3_TX : PB10</li>
<li>UART_3_RX : PB11</li>
<li>I2C_0_SCL : PB6</li>
<li>I2C_0_SDA : PB7</li>
<li>PWM_2_CH1 : PA0</li>
<li>USER_PB : PC13</li>
<li>LD2 : PA5</li>
</ul>
</div>
<div class="section" id="system-clock">
<h4>System Clock<a class="headerlink" href="#system-clock" title="Permalink to this headline">¶</a></h4>
<p>Nucleo L476RG System Clock could be driven by internal or external oscillator,
as well as main PLL clock. By default System clock is driven by PLL clock at 80MHz,
driven by 16MHz high speed internal oscillator.</p>
</div>
<div class="section" id="serial-port">
<h4>Serial Port<a class="headerlink" href="#serial-port" title="Permalink to this headline">¶</a></h4>
<p>Nucleo L476RG board has 6 U(S)ARTs. The Zephyr console output is assigned to UART2.
Default settings are 115200 8N1.</p>
</div>
</div>
</div>
<div class="section" id="programming-and-debugging">
<h2>Programming and Debugging<a class="headerlink" href="#programming-and-debugging" title="Permalink to this headline">¶</a></h2>
<div class="section" id="flashing">
<h3>Flashing<a class="headerlink" href="#flashing" title="Permalink to this headline">¶</a></h3>
<p>Nucleo L476RG board includes an ST-LINK/V2-1 embedded debug tool interface.
This interface is not supported by the openocd version 0.9 included by the Zephyr SDK v0.9.
Until we update the Zephyr SDK, use openocd v0.10.0 from the openocd-stm32 project on GitHub
to get the minimum set of scripts needed to flash and debug STM32 development boards.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> git clone  https://github.com/erwango/openocd-stm32.git
</pre></div>
</div>
<p>Then follow instructions in README.md</p>
<div class="section" id="flashing-an-application-to-nucleo-l476rg">
<h4>Flashing an application to Nucleo L476RG<a class="headerlink" href="#flashing-an-application-to-nucleo-l476rg" title="Permalink to this headline">¶</a></h4>
<p>The sample application :ref:&#8217;hello_world` is being used in this tutorial:</p>
<p>To build the Zephyr kernel and application, enter:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> &lt;zephyr_root_path&gt;
<span class="gp">$</span> <span class="nb">source</span> zephyr-env.sh
<span class="gp">$</span> <span class="nb">cd</span> <span class="nv">$ZEPHYR_BASE</span>/samples/hello_world/
<span class="gp">$</span> make <span class="nv">BOARD</span><span class="o">=</span>nucleo_l476rg
</pre></div>
</div>
<p>Connect the Nucleo L476RG to your host computer using the USB port.
Then, enter the following command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> &lt;openocd-stm32_path&gt;
<span class="gp">$</span> stm32_flsh l4 <span class="nv">$ZEPHYR_BASE</span>/samples/hello_world/outdir/nucleo_l476rg/zephyr.bin
</pre></div>
</div>
<p>Run a serial host program to connect with your Nucleo board.</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> minicom -D /dev/ttyACM0
</pre></div>
</div>
<p>You should see the following message:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> Hello World! arm
</pre></div>
</div>
</div>
</div>
<div class="section" id="debugging">
<h3>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h3>
<p>Access gdb with the following make command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> <span class="nb">cd</span> &lt;openocd-stm32_path&gt;
<span class="gp">$</span> stm32_dbg l4 <span class="nv">$ZEPHYR_BASE</span>/samples/hello_world/outdir/nucleo_l476rg/zephyr.elf
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../qemu_cortex_m3/doc/board.html" class="btn btn-neutral float-right" title="ARM Cortex-M3 Emulation (QEMU)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../../nucleo_f411re/doc/nucleof411re.html" class="btn btn-neutral" title="ST Nucleo F411RE" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; <a href="../../../../copyright.html">Copyright</a> 2015-2017 Zephyr Project members and individual contributors..
      Last updated on Mar 14, 2017.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'1.7.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>